<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PetHouse ‚Äî Shop Th√∫ C∆∞ng Long An</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --brand:#ffcc00;
    --brand-2:#ffe174;
    --text:#1f2937;
    --muted:#6b7280;
    --bg:#fafaf9;
    --card:#ffffff;
    --danger:#ef4444;
    --success:#10b981;
    --rounded:18px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    color:var(--text); background:
      radial-gradient(1200px 600px at 10% -10%, #fff5cc 0, transparent 60%),
      radial-gradient(900px 500px at 110% 10%, #ffeab3 0, transparent 60%),
      var(--bg);
  }
  a{color:inherit;text-decoration:none}
  img{display:block;max-width:100%}
  button{font-family:inherit}
  /* Layout */
  .container{max-width:1180px;margin:0 auto;padding:16px}
  header.nav{
    position:sticky;top:0;z-index:30;background:rgba(255,255,255,.9);
    backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid #eee;
  }
  .nav-inner{display:flex;gap:14px;align-items:center;justify-content:space-between;padding:10px 0;}
  .brand{display:flex;align-items:center;gap:12px;font-weight:800}
  .brand .logo{
    width:40px;height:40px;border-radius:12px;background:var(--brand);
    display:grid;place-items:center;box-shadow:0 8px 22px rgba(255,204,0,.45);
    font-size:20px;
  }
  .menu{display:flex;gap:10px;flex-wrap:wrap}
  .chip{
    background:#fff;border:1px solid #eee;border-radius:999px;padding:9px 14px;font-weight:700;
    cursor:pointer; transition:.2s; font-size:14px;
  }
  .chip.active{background:#fff6c4;border-color:#ffe174}
  .chip:hover{transform:translateY(-1px)}
  .btn{border:0;border-radius:12px;padding:10px 16px;font-weight:700;cursor:pointer;transition:.2s;}
  .btn-primary{background:var(--brand);box-shadow:0 10px 24px rgba(255,204,0,.45)}
  .btn-primary:hover{filter:brightness(.98)}
  .btn-muted{background:#f3f4f6}
  .btn-ghost{background:transparent;border:1px solid #eee}
  .btn-danger{background:var(--danger);color:#fff}

  /* Hero */
  .hero{
    margin-top:14px;background:linear-gradient(140deg,#fff5cc,#fff,#fff2a8);
    border:1px solid #f1f1f1;border-radius:24px;padding:24px;display:grid;gap:12px
  }
  .hero h1{margin:0;font-size:28px}
  .sub{color:var(--muted)}
  .toolbar{display:flex;gap:10px;flex-wrap:wrap}
  .input{padding:12px 14px;border-radius:12px;border:1.8px solid #eee;background:#fff;outline:none;transition:.2s;font-size:15px}
  .input:focus{border-color:var(--brand); box-shadow:0 0 0 4px rgba(255,204,0,.18)}
  .search{display:flex;gap:8px;flex:1}
  .search .input{flex:1}

  /* Grid */
  .products{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:18px}
  @media (max-width:1024px){.products{grid-template-columns:repeat(3,1fr)}}
  @media (max-width:760px){.products{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:480px){.products{grid-template-columns:1fr}}
  .card{
    background:#fff;border:1px solid #f1f1f1;border-radius:20px;overflow:hidden;
    box-shadow:0 14px 30px rgba(0,0,0,.06);display:flex;flex-direction:column
  }
  .card-img{height:180px;object-fit:cover}
  .card-body{padding:12px 14px;display:flex;flex-direction:column;gap:8px}
  .price{font-weight:800;color:#ef4444}
  .meta{font-size:12px;color:var(--muted)}
  .row{display:flex;gap:8px;align-items:center;justify-content:space-between}
  .like{background:#fff;border:1px solid #eee;border-radius:10px;padding:8px;cursor:pointer}
  .like.active{background:#fff3c6;border-color:#ffd95e}

  /* Pages */
  #page-home{}
  #page-detail{display:none}
  .detail{display:grid;grid-template-columns:1.1fr 1fr;gap:24px;margin-top:18px}
  @media (max-width:880px){.detail{grid-template-columns:1fr}}
  .gallery{background:#fff;border-radius:20px;border:1px solid #eee;padding:10px}
  .gallery img{border-radius:14px;height:420px;object-fit:cover;width:100%}
  .panel{background:#fff;border-radius:20px;border:1px solid #eee;padding:18px;display:flex;flex-direction:column;gap:10px}
  .badge{display:inline-block;background:#f3f4f6;border-radius:999px;padding:6px 10px;font-weight:700;font-size:12px}
  .specs{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;font-size:14px}
  .specs div{background:#fafafa;border:1px solid #eee;border-radius:10px;padding:8px}

  /* Drawer (Cart) */
  .drawer{position:fixed;right:0;top:0;width:min(420px,100%);height:100%;background:#fff;border-left:1px solid #eee;
    transform:translateX(100%);transition:.3s;z-index:50;display:flex;flex-direction:column}
  .drawer.open{transform:translateX(0)}
  .drawer-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid #eee}
  .drawer-body{padding:12px;overflow:auto;display:flex;flex-direction:column;gap:12px}
  .cart-item{display:grid;grid-template-columns:64px 1fr auto;gap:10px;border:1px solid #f1f1f1;border-radius:12px;padding:10px}
  .qty{display:flex;align-items:center;gap:6px}
  .drawer-footer{margin-top:auto;border-top:1px solid #eee;padding:12px;display:grid;gap:10px}
  .total{display:flex;align-items:center;justify-content:space-between;font-weight:800}

  /* Footer */
  footer{margin-top:32px;background:#111;color:#e5e7eb}
  .footer-inner{max-width:1180px;margin:0 auto;padding:18px 16px;display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between}
  .footer-inner a{color:#ffe174;font-weight:700}
</style>
</head>
<body>

<header class="nav">
  <div class="container nav-inner">
    <div class="brand">
      <div class="logo">üêæ</div>
      <div>PetHouse</div>
    </div>
    <div class="menu">
      <button class="chip active" id="btn-home">Trang ch·ªß</button>
      <button class="chip" id="btn-dog">Ch√≥</button>
      <button class="chip" id="btn-cat">M√®o</button>
      <button class="chip" id="btn-cart">Gi·ªè h√†ng</button>
    </div>
  </div>
</header>

<main class="container">
  <!-- HOME -->
  <section id="page-home">
    <div class="hero">
      <h1>Shop Th√∫ C∆∞ng Long An</h1>
      <div class="sub">Y√™u ƒë√∫ng ‚Äî ch·ªçn chu·∫©n. T·∫•t c·∫£ ‚Äúboss‚Äù c∆∞ng ƒë·ªÅu ch·ªù b·∫°n mang v·ªÅ nh√† üê∂üê±</div>
      <div class="toolbar">
        <div class="search">
          <input id="q" class="input" placeholder="T√¨m: Shiba, Bulldog Ph√°p, Ragdoll...">
          <button id="btn-search" class="btn btn-primary">T√¨m</button>
          <button id="btn-clear" class="btn btn-ghost">Xo√°</button>
        </div>
        <select id="sel-sort" class="input" style="min-width:180px">
          <option value="new">M·ªõi nh·∫•t</option>
          <option value="price-asc">Gi√° tƒÉng d·∫ßn</option>
          <option value="price-desc">Gi√° gi·∫£m d·∫ßn</option>
          <option value="name">Theo t√™n</option>
        </select>
      </div>
    </div>

    <div id="grid" class="products"></div>
  </section>

  <!-- DETAIL -->
  <section id="page-detail">
    <button class="btn btn-ghost" id="btn-back">‚Üê Quay l·∫°i</button>
    <div class="detail">
      <div class="gallery">
        <img id="detail-img" src="" alt="·∫¢nh th√∫ c∆∞ng">
      </div>
      <div class="panel">
        <div class="badge" id="detail-cat"></div>
        <h2 id="detail-name" style="margin:8px 0 0"></h2>
        <div class="meta" id="detail-id"></div>
        <div class="price" id="detail-price"></div>
        <div class="meta" id="detail-desc"></div>
        <div class="specs" id="detail-specs"></div>
        <div class="row">
          <div class="row" style="gap:6px">
            <button id="btn-detail-like" class="like">‚ô°</button>
            <button id="btn-detail-add" class="btn btn-primary">Th√™m v√†o gi·ªè</button>
          </div>
          <button id="btn-go-cart" class="btn btn-muted">Xem gi·ªè h√†ng</button>
        </div>
        <div style="font-size:12px;color:#6b7280">
          C·ª≠a h√†ng: 456 Nguy·ªÖn Hu·ªá, TP. T√¢n An, Long An ‚Äî Hotline:
          <a href="tel:0912345678">0912 345 678</a> ‚Äî Email:
          <a href="mailto:shopthucungla@gmail.com">shopthucungla@gmail.com</a>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- CART DRAWER -->
<aside id="drawer" class="drawer" aria-hidden="true">
  <div class="drawer-header">
    <strong>üõí Gi·ªè h√†ng</strong>
    <button id="btn-close-drawer" class="btn btn-ghost">‚úï</button>
  </div>
  <div class="drawer-body" id="cart-list"></div>
  <div class="drawer-footer">
    <div class="total"><span>T·∫°m t√≠nh</span><span id="subtotal">0ƒë</span></div>
    <button id="btn-checkout" class="btn btn-primary">Thanh to√°n</button>
    <button id="btn-clear-cart" class="btn btn-danger">Xo√° gi·ªè h√†ng</button>
  </div>
</aside>

<footer>
  <div class="footer-inner">
    <div>¬© <span id="year"></span> PetHouse Long An</div>
    <div>
      <strong>ƒê·ªãa ch·ªâ:</strong> 456 Nguy·ªÖn Hu·ªá, TP. T√¢n An, Long An
      &nbsp;|&nbsp; <strong>ƒêi·ªán tho·∫°i:</strong> <a href="tel:0912345678">0912 345 678</a>
      &nbsp;|&nbsp; <strong>Email:</strong> <a href="mailto:shopthucungla@gmail.com">shopthucungla@gmail.com</a>
    </div>
  </div>
</footer>

<script>
/* ---------------- Data ---------------- */
const products = [
  // Ch√≥
  {id:101, category:'Ch√≥', name:'Bulldog Ph√°p', gender:'ƒë·ª±c', color:'v·ªán', age:'4 th√°ng', price:10500000, stock:4, vaccinated:true, rating:4.9, img:'https://place-puppy.com/604x400'},
  {id:102, category:'Ch√≥', name:'Golden Retriever', gender:'c√°i', color:'v√†ng kem', age:'5 th√°ng', price:8200000, stock:5, vaccinated:true, rating:4.9, img:'https://place-puppy.com/601x400'},
  {id:103, category:'Ch√≥', name:'Husky X√°m', gender:'ƒë·ª±c', color:'x√°m tr·∫Øng', age:'6 th√°ng', price:7500000, stock:2, vaccinated:false, rating:4.5, img:'https://place-puppy.com/602x400'},
  {id:104, category:'Ch√≥', name:'Poodle Tr·∫Øng', gender:'c√°i', color:'tr·∫Øng', age:'3 th√°ng', price:5000000, stock:7, vaccinated:true, rating:4.7, img:'https://place-puppy.com/603x400'},
  {id:105, category:'Ch√≥', name:'Shiba Inu', gender:'ƒë·ª±c', color:'cam tr·∫Øng', age:'4 th√°ng', price:9000000, stock:3, vaccinated:true, rating:4.8, img:'https://place-puppy.com/600x400'},
  // M√®o
  {id:201, category:'M√®o', name:'M√®o Anh l√¥ng ng·∫Øn', gender:'c√°i', color:'x√°m xanh', age:'3 th√°ng', price:4500000, stock:6, vaccinated:true, rating:4.6, img:'https://placekitten.com/600/400'},
  {id:202, category:'M√®o', name:'M√®o Ba T∆∞', gender:'ƒë·ª±c', color:'tr·∫Øng kem', age:'5 th√°ng', price:6800000, stock:3, vaccinated:false, rating:4.4, img:'https://placekitten.com/601/400'},
  {id:203, category:'M√®o', name:'M√®o Ragdoll', gender:'c√°i', color:'seal point', age:'6 th√°ng', price:9500000, stock:2, vaccinated:true, rating:4.8, img:'https://placekitten.com/602/400'}
];

/* ---------------- Helpers ---------------- */
const $ = s => document.querySelector(s);
const $$ = s => document.querySelectorAll(s);
const money = n => n.toLocaleString('vi-VN') + 'ƒë';
const byId = id => products.find(p=>p.id==id);

/* ---------------- State (localStorage) ---------------- */
const KEY_CART='pethouse_cart';
const KEY_FAV='pethouse_fav';
function getCart(){ return JSON.parse(localStorage.getItem(KEY_CART)||'[]'); }
function setCart(v){ localStorage.setItem(KEY_CART, JSON.stringify(v)); renderCart(); }
function getFav(){ return JSON.parse(localStorage.getItem(KEY_FAV)||'[]'); }
function setFav(v){ localStorage.setItem(KEY_FAV, JSON.stringify(v)); }

/* ---------------- Routing ---------------- */
function go(page){
  ['#page-home','#page-detail'].forEach(id=>$(id).style.display='none');
  $(page).style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
}

/* ---------------- Grid render ---------------- */
let currentFilterCat = ''; // '', 'Ch√≥', 'M√®o'
function renderGrid(){
  const q = $('#q').value.trim().toLowerCase();
  const sort = $('#sel-sort').value;

  let list = products.slice();
  if(currentFilterCat) list = list.filter(p=>p.category===currentFilterCat);
  if(q) list = list.filter(p=>[p.name,p.color,p.gender,p.category].join(' ').toLowerCase().includes(q));

  if(sort==='price-asc') list.sort((a,b)=>a.price-b.price);
  else if(sort==='price-desc') list.sort((a,b)=>b.price-a.price);
  else if(sort==='name') list.sort((a,b)=>a.name.localeCompare(b.name));
  else list.sort((a,b)=>b.id-a.id);

  const fav = getFav();
  const grid = $('#grid');
  grid.innerHTML='';

  if(!list.length){
    grid.innerHTML = `<div class="card" style="grid-column:1/-1;padding:24px">Kh√¥ng t√¨m th·∫•y th√∫ c∆∞ng ph√π h·ª£p üêæ</div>`;
    return;
  }

  list.forEach(p=>{
    const el = document.createElement('div');
    el.className='card';
    el.innerHTML = `
      <img class="card-img" src="${p.img}" alt="${p.name}">
      <div class="card-body">
        <div class="row">
          <strong>${p.name}</strong>
          <button class="like ${fav.includes(p.id)?'active':''}" title="Y√™u th√≠ch">‚ô°</button>
        </div>
        <div class="meta">${p.category} ‚Ä¢ ${p.gender} ‚Ä¢ ${p.age} ‚Ä¢ ‚≠ê ${p.rating}</div>
        <div class="row">
          <div class="price">${money(p.price)}</div>
          <small class="meta">${p.stock>0?'C√≤n '+p.stock:'H·∫øt h√†ng'}</small>
        </div>
        <div class="row">
          <button class="btn btn-muted btn-detail">Xem chi ti·∫øt</button>
          <button class="btn btn-primary btn-add" ${p.stock? '' : 'disabled'}>Th√™m v√†o gi·ªè</button>
        </div>
      </div>
    `;
    el.querySelector('.btn-detail').onclick = ()=> openDetail(p.id);
    el.querySelector('.btn-add').onclick = ()=> addToCart(p.id,1);
    el.querySelector('.like').onclick = ()=> toggleFav(p.id);
    grid.appendChild(el);
  });
}

/* ---------------- Detail ---------------- */
let currentDetailId = null;
function openDetail(id){
  currentDetailId = id;
  const p = byId(id);
  if(!p) return;
  $('#detail-img').src = p.img;
  $('#detail-cat').textContent = p.category;
  $('#detail-name').textContent = p.name;
  $('#detail-id').textContent = `M√£ SP: #${p.id} ‚Ä¢ T√¨nh tr·∫°ng: ${p.stock>0?'C√≤n h√†ng':'H·∫øt h√†ng'}`;
  $('#detail-price').textContent = money(p.price);
  $('#detail-desc').textContent = `M√†u: ${p.color}. ${p.vaccinated?'ƒê√£':''} ti√™m ch·ªßng.`;
  $('#detail-specs').innerHTML = `
    <div>Gi·ªõi t√≠nh: <b>${p.gender}</b></div>
    <div>ƒê·ªô tu·ªïi: <b>${p.age}</b></div>
    <div>ƒê√°nh gi√°: <b>‚≠ê ${p.rating}</b></div>
    <div>Kho: <b>${p.stock}</b></div>
  `;
  renderDetailLike();
  go('#page-detail');
}
function renderDetailLike(){
  if(currentDetailId==null) return;
  const liked = getFav().includes(currentDetailId);
  $('#btn-detail-like').classList.toggle('active', liked);
  $('#btn-detail-like').textContent = liked ? '‚ô•' : '‚ô°';
}

/* ---------------- Favorites ---------------- */
function toggleFav(id){
  let fav = getFav();
  fav = fav.includes(id) ? fav.filter(x=>x!==id) : fav.concat(id);
  setFav(fav); renderGrid(); renderDetailLike();
}

/* ---------------- Cart ---------------- */
function addToCart(itemId, qty=1){
  const cart = getCart();
  const idx = cart.findIndex(i=>i.id===itemId);
  const stock = byId(itemId)?.stock ?? 0;
  if(idx>-1){ cart[idx].qty = Math.min(stock, cart[idx].qty + qty); }
  else cart.push({id:itemId, qty: Math.min(stock, qty)});
  setCart(cart); openDrawer();
}
function updateQty(itemId, delta){
  const cart = getCart().map(i=> i.id===itemId ? {...i, qty: Math.max(1, Math.min(byId(itemId).stock, i.qty+delta))} : i );
  setCart(cart);
}
function removeCart(itemId){ setCart(getCart().filter(i=>i.id!==itemId)); }
function clearCart(){ setCart([]); }

const drawer = $('#drawer');
function openDrawer(){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); renderCart(); }
function closeDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }
function renderCart(){
  const list = getCart();
  const host = $('#cart-list');
  host.innerHTML = '';
  let total = 0;

  if(!list.length){
    host.innerHTML = '<div class="meta">Gi·ªè h√†ng tr·ªëng. H√£y th√™m v√†i ‚Äúboss‚Äù ƒë√°ng y√™u nh√©! üê∂</div>';
  } else {
    list.forEach(it=>{
      const p = byId(it.id); if(!p) return;
      const sub = p.price * it.qty; total += sub;
      const row = document.createElement('div');
      row.className='cart-item';
      row.innerHTML = `
        <img src="${p.img}" style="width:64px;height:64px;object-fit:cover;border-radius:8px">
        <div>
          <div style="font-weight:700">${p.name}</div>
          <div class="meta">Gi√°: ${money(p.price)}</div>
          <div class="qty">
            <button class="btn btn-ghost btn-dec">‚àí</button>
            <div>${it.qty}</div>
            <button class="btn btn-ghost btn-inc">+</button>
          </div>
        </div>
        <div style="text-align:right">
          <div><b>${money(sub)}</b></div>
          <button class="btn btn-ghost btn-del">Xo√°</button>
        </div>
      `;
      row.querySelector('.btn-inc').onclick=()=>updateQty(it.id,+1);
      row.querySelector('.btn-dec').onclick=()=>updateQty(it.id,-1);
      row.querySelector('.btn-del').onclick=()=>removeCart(it.id);
      host.appendChild(row);
    });
  }
  $('#subtotal').textContent = money(total);
}

/* ---------------- Events ---------------- */
$('#year').textContent = new Date().getFullYear();

// Navigation chips
$('#btn-home').onclick=()=>{ setActiveCat(''); };
$('#btn-dog').onclick =()=>{ setActiveCat('Ch√≥'); };
$('#btn-cat').onclick =()=>{ setActiveCat('M√®o'); };
function setActiveCat(cat){
  currentFilterCat = cat;
  $$('.menu .chip').forEach(b=>b.classList.remove('active'));
  if(cat==='Ch√≥') $('#btn-dog').classList.add('active');
  else if(cat==='M√®o') $('#btn-cat').classList.add('active');
  else $('#btn-home').classList.add('active');
  renderGrid();
}

$('#btn-cart').onclick = openDrawer;
$('#btn-close-drawer').onclick = closeDrawer;
$('#btn-clear-cart').onclick = clearCart;
$('#btn-checkout').onclick = ()=>{
  const cart = getCart();
  if(!cart.length){ alert('Gi·ªè h√†ng ƒëang tr·ªëng.'); return; }
  const items = cart.map(it=>`${byId(it.id)?.name} x${it.qty}`).join('\n');
  alert('ƒê·∫∑t h√†ng th√†nh c√¥ng!\n\nS·∫£n ph·∫©m:\n'+items+'\n\nC·ª≠a h√†ng s·∫Ω li√™n h·ªá x√°c nh·∫≠n.');
  clearCart(); closeDrawer();
};

$('#btn-search').onclick = renderGrid;
$('#btn-clear').onclick = ()=>{ $('#q').value=''; renderGrid(); };
$('#sel-sort').onchange = renderGrid;

$('#btn-back').onclick = ()=>{ go('#page-home'); };
$('#btn-detail-add').onclick = ()=>{ if(currentDetailId) addToCart(currentDetailId,1); };
$('#btn-detail-like').onclick = ()=>{ if(currentDetailId) toggleFav(currentDetailId); };
$('#btn-go-cart').onclick = openDrawer;

/* ---------------- Init ---------------- */
(function init(){
  go('#page-home');
  renderGrid();
})();
</script>
</body>
</html>
